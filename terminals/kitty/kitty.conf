editor nvim

include ./theme.conf

# ==========================================
# Font (matches WezTerm fonts.lua)
# ==========================================
font_family      JetBrainsMono Nerd Font Propo
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        12.5
modify_font cell_height 0px

# ==========================================
# macOS
# ==========================================
kitty_mod        cmd
macos_traditional_fullscreen no
macos_option_as_alt yes
mouse_hide_wait 1.0
background_opacity 1.0

# ==========================================
# Cursor (BlinkingBar like WezTerm)
# ==========================================
cursor_shape              beam
cursor_blink_interval     0.5
cursor_stop_blinking_after 0

# ==========================================
# Performance
# ==========================================
repaint_delay 8
input_delay 0
sync_to_monitor no

# ==========================================
# Bell
# ==========================================
enable_audio_bell    no
visual_bell_duration 0.0
window_alert_on_bell yes
bell_on_tab          yes
command_on_bell      none

# ==========================================
# Scrollback
# ==========================================
scrollback_lines 10000

# ==========================================
# Window
# ==========================================
hide_window_decorations  yes
confirm_os_window_close  0
window_padding_width     0
placement_strategy       top-left
inactive_text_alpha      1.0
active_border_color      #535965
inactive_border_color    #3b3e48

# ==========================================
# Tab Bar (bottom, matches WezTerm tabs.lua)
# ==========================================
tab_bar_edge            bottom
tab_bar_style           powerline
tab_powerline_style     slanted
tab_title_template      " {index}: {title} "
active_tab_font_style   bold
tab_bar_min_tabs        1
tab_bar_background      #000000
active_tab_foreground   #a0c980
active_tab_background   #202023
inactive_tab_foreground #bcc5d1
inactive_tab_background #000000

# ==========================================
# Shell
# ==========================================
shell_integration enabled
allow_remote_control yes
term xterm-256color

# ==========================================
# Misc
# ==========================================
clipboard_control write-clipboard write-primary no-append

# ==========================================
# Key Bindings
# Leader key: ctrl+a  (matches WezTerm / tmux)
# kitty_mod  = cmd    (macOS CMD shortcuts)
# ==========================================

# ── Pane / Window ─────────────────────────
# Split right  — leader + |
map ctrl+a>pipe              launch --location=vsplit --cwd=current
# Split down   — leader + -
map ctrl+a>minus             launch --location=hsplit --cwd=current
# Close pane   — leader + x
map ctrl+a>x                 close_window
# Zoom toggle  — leader + z
map ctrl+a>z                 toggle_layout stack
# Navigate     — leader + h/j/k/l
map ctrl+a>h                 neighboring_window left
map ctrl+a>j                 neighboring_window down
map ctrl+a>k                 neighboring_window up
map ctrl+a>l                 neighboring_window right
# Resize       — leader + H/J/K/L
map ctrl+a>shift+h           resize_window narrower 2
map ctrl+a>shift+j           resize_window shorter 2
map ctrl+a>shift+k           resize_window taller 2
map ctrl+a>shift+l           resize_window wider 2

# ── Tabs ──────────────────────────────────
# New tab      — leader + c
map ctrl+a>c                 new_tab_with_cwd
# Close tab    — leader + &
map ctrl+a>ampersand         close_tab
# Next / Prev  — leader + n/p
map ctrl+a>n                 next_tab
map ctrl+a>p                 previous_tab
# Rename       — leader + ,
map ctrl+a>comma             set_tab_title
# Move tab     — leader + < / >
map ctrl+a>less              move_tab_backward
map ctrl+a>greater           move_tab_forward
# By number    — leader + 1-9
map ctrl+a>1                 goto_tab 1
map ctrl+a>2                 goto_tab 2
map ctrl+a>3                 goto_tab 3
map ctrl+a>4                 goto_tab 4
map ctrl+a>5                 goto_tab 5
map ctrl+a>6                 goto_tab 6
map ctrl+a>7                 goto_tab 7
map ctrl+a>8                 goto_tab 8
map ctrl+a>9                 goto_tab 9
# Fast switch  — Ctrl+Shift+h/l
map ctrl+shift+h             previous_tab
map ctrl+shift+l             next_tab

# ── Quick Launch ──────────────────────────
# LazyGit      — leader + g
map ctrl+a>g                 launch --type=tab --cwd=current lazygit
# LazyDocker   — leader + i
map ctrl+a>i                 launch --type=tab --cwd=current lazydocker
# SuperFile    — leader + /
map ctrl+a>slash             launch --type=tab --cwd=current spf

# ── Scrollback / Copy Mode ────────────────
# Enter scrollback (vim-like) — leader + [ or v
map ctrl+a>bracketleft       show_scrollback
map ctrl+a>v                 show_scrollback
# Search in scrollback — leader + f
map ctrl+a>f                 launch --type=overlay --stdin-source=@screen_scrollback less +G -R

# ── Misc ──────────────────────────────────
# Reload config — leader + r
map ctrl+a>r                 load_config_file
# Fullscreen
map kitty_mod+enter          toggle_fullscreen

# ── macOS CMD shortcuts (kitty_mod = cmd) ─
map kitty_mod+t              new_tab_with_cwd
map kitty_mod+w              close_tab
map kitty_mod+[              previous_tab
map kitty_mod+]              next_tab
map kitty_mod+1              goto_tab 1
map kitty_mod+2              goto_tab 2
map kitty_mod+3              goto_tab 3
map kitty_mod+4              goto_tab 4
map kitty_mod+5              goto_tab 5
map kitty_mod+6              goto_tab 6
map kitty_mod+7              goto_tab 7
map kitty_mod+8              goto_tab 8
map kitty_mod+9              goto_tab 9

# ── Font size ─────────────────────────────
map kitty_mod+minus          change_font_size all -1.0
map kitty_mod+equal          change_font_size all +1.0
map kitty_mod+0              change_font_size all 0

# ── Clipboard ─────────────────────────────
map kitty_mod+c              copy_to_clipboard
map kitty_mod+v              paste_from_clipboard

# ── Search kitten ─────────────────────────
map kitty_mod+f              launch --allow-remote-control kitty +kitten kitty_search/search.py @active-kitty-window-id

# ── Mouse ─────────────────────────────────
mouse_map ctrl+left press ungrabbed,grabbed mouse_click_url
